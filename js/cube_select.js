/* @update: 2016-9-6 17:9:9 */ 
define("project/cube_select",function(){var e={config:{prefix:"cube"},rowZIndex:5e3,getRowZIndex:function(){return e.rowZIndex-=1}};$.fn.select=function(t){return t=$.extend({callback:null,ajaxUrl:"",dataType:"json"},t),this.each(function(){function c(e){for(var t=0,c=e.length;c>t;t++)l.push("<li cube-data="+e[t].value+">"),l.push("<a href=javascript:void(0);>"+e[t].name+"</a>"),l.push("</li>");a.html(l.join(""))}var n=$(this),a=$("[cube-type=cont]",n),l=[];n.parent().css({zIndex:e.getRowZIndex()}),t.ajaxUrl.length&&!function(e){$.ajax({url:t.ajaxUrl,dataType:t.dataType,success:function(t){var c=t.data;e(c)}})}(c),n.find("[cube-type=title], s").on("click.select",function(){a.css("zIndex",2),a.not(":visible")?(a.find("li").length>5&&a.css({display:"block",height:5*a.find("li").eq(0).outerHeight()+"px","overflow-y":"scroll"}),n.addClass("cu-select-active")):(n.removeClass("cu-select-active"),a.removeAttr("style"))}),n.on("mouseleave.select",function(){n.removeClass("cu-select-active"),a.removeAttr("style")}),n.on("click.select","li",function(){var e=$(this).attr("cube-data");n.find("[cube-type=title]").html("<em>"+$(this).text()+"<strong></strong></em><b></b>").end().find(":hidden").val(e),n.removeClass("cu-select-active").find(".cu-form-prompt").removeClass("animation"),a.removeAttr("style"),$.isFunction(t.callback)&&t.callback.call(this,e)})})}});